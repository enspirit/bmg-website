---
title: B⋈G
description: Relational algebra libraries for Ruby and TypeScript
tableOfContents: false
hero:
  tagline: Think in Relations. Query Any Data.
  image:
    file: ../../assets/impossible-object.png
---

import { Aside, Card, CardGrid, LinkCard } from '@astrojs/starlight/components';

import { Image } from "astro:assets";

import enspiritLogoLight from "../../assets/enspirit-logo-light.png";
import enspiritLogoDark from "../../assets/enspirit-logo-dark.png";

<LinkCard
  title="What is Relational Algebra?"
  description="A powerful way to reason, query and transform data. Learn the fundamentals."
  href="/ra-primer/introduction"
/>

<div class="text-2xl pt-8 pb-4">
  Use it in your projects
</div>

<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
  <a href="/usage/getting-started/" class="block p-4 rounded-lg border border-gray-600 hover:border-amber-500 hover:bg-amber-500/10 transition-all duration-200 no-underline">
    <span class="inline-block px-2 py-0.5 mb-2 text-sm font-semibold rounded bg-red-700 text-white">Ruby</span>
    <p class="font-bold text-lg !mt-0 !text-[var(--sl-color-white)]">Bmg</p>
    <p class="!mt-1 text-sm !text-[var(--sl-color-gray-3)]">Full-featured library with SQL compilation and ActiveRecord integration.</p>
  </a>
  <a href="/usage/getting-started-ts/" class="block p-4 rounded-lg border border-gray-600 hover:border-amber-500 hover:bg-amber-500/10 transition-all duration-200 no-underline">
    <span class="inline-block px-2 py-0.5 mb-2 text-sm font-semibold rounded bg-blue-700 text-white">TypeScript</span>
    <p class="font-bold text-lg !mt-0 !text-[var(--sl-color-white)]">Bmg.js</p>
    <p class="!mt-1 text-sm !text-[var(--sl-color-gray-3)]">Type-safe in-memory operations for JavaScript/TypeScript projects.</p>
  </a>
</div>

import { Tabs, TabItem } from '@astrojs/starlight/components';

<div class="text-4xl pt-12 pb-4 underline decoration-amber-500">
  Works with any data
</div>

Arrays, CSV files, JSON, Redis, SQL databases — same operations everywhere.

<Tabs syncKey="lang">
  <TabItem label="Ruby">
```ruby
# In-memory array
purchases = Bmg::Relation.new([
  { product_id: 1, quantity: 5, type: 'sale' },
  { product_id: 2, quantity: 3, type: 'sample' },
])

# Or load from CSV
purchases = Bmg.csv("purchases.csv")

# Or connect to a SQL database
purchases = Bmg.sequel(:purchases, db)

# Same operations, any source
purchases
  .restrict(Predicate.neq(:type, 'sample'))
  .summarize([:product_id], quantity: :sum)
```
  </TabItem>
  <TabItem label="TypeScript">
```typescript
// In-memory array
const purchases = Bmg([
  { product_id: 1, quantity: 5, type: 'sale' },
  { product_id: 2, quantity: 3, type: 'sample' },
])

// Same operations, full type safety
purchases
  .exclude({ type: 'sample' })
  .summarize(['product_id'], { quantity: { op: 'sum', attr: 'quantity' } })
```
  </TabItem>
</Tabs>

<div class="text-4xl pt-12 pb-4 underline decoration-amber-500">
  What is it good for?
</div>
<CardGrid>
        <Card title="Think in relations">
          Relational algebra gives you a powerful mental model for data manipulation. Chain operations naturally.
        </Card>
        <Card title="Query anything">
          Same operations work on arrays, files, Redis, or SQL. Your code doesn't change when your data source does.
        </Card>
        <Card title="Compose freely">
          Extract, reuse, and combine query fragments. Build complex transformations from simple pieces.
        </Card>
        <Card title="Drop in anywhere">
          Works alongside ActiveRecord, Sequel, or standalone. No framework lock-in.
        </Card>
</CardGrid>


<div class="text-4xl pt-12 pb-4 underline decoration-amber-500">
  SQL Compilation
</div>

When your data lives in a database, Bmg compiles your queries to efficient SQL.
Currently available in Ruby — coming soon to TypeScript.

<CardGrid>
        <Card>
        ```ruby
        suppliers
          .restrict(Predicate.eq(:city, "Paris"))
          .join(supplies, [:sid])
          .project([:name, :qty])
        ```
        </Card>
        <Card>
        ```sql
        SELECT DISTINCT `t2`.`qty`, `t1`.`name`
        FROM `suppliers` AS 't1'
        INNER JOIN `supplies` AS 't2'
          ON (`t1`.`sid` = `t2`.`sid`)
        WHERE (`t1`.`city` = 'Paris')
        ```
        </Card>
</CardGrid>

See more in our [SQL vs. Bmg cheatsheet](/comparison/bmg-vs-sql-cheatsheet/).

<div class="h-8 !mt-16 w-full flex justify-center">
  <span class="text-lg object-contain">Created with ♥️ by</span>
  <a class="flex h-full size-fit py-1.5 w-32 float-end"
     href="https://www.enspirit.dev">
      <Image
        src={enspiritLogoLight}
        alt="Enspirit logo"
        class="dark:sl-hidden object-contain"
      />
      <Image
        src={enspiritLogoDark}
        alt="Enspirit logo"
        class="light:sl-hidden object-contain !m-0"
      />
  </a>
</div>

