---
title: B⋈G
description: Relational algebra libraries for Ruby and TypeScript
tableOfContents: false
hero:
  tagline: Think in Relations. Query Any Data.
  image:
    file: ../../assets/impossible-object.png
---

import { Aside, Card, CardGrid, LinkCard } from '@astrojs/starlight/components';

import { Image } from "astro:assets";

import enspiritLogoLight from "../../assets/enspirit-logo-light.png";
import enspiritLogoDark from "../../assets/enspirit-logo-dark.png";

<div class="not-content try-cta">
  <a href="/try" class="try-cta-link">
    <span class="try-cta-badge">Interactive</span>
    <span class="try-cta-title">Try Bmg.js in your browser</span>
    <span class="try-cta-desc">Write relational algebra queries on your own data — no installation required.</span>
    <span class="try-cta-arrow">→</span>
  </a>
</div>

<LinkCard
  title="What is Relational Algebra?"
  description="A powerful way to reason, query and transform data. Learn the fundamentals."
  href="/ra-primer/introduction"
/>

<div class="text-2xl pt-8 pb-4">
  Use it in your projects
</div>

<div class="not-content grid grid-cols-1 md:grid-cols-2 gap-4">
  <div class="relative p-4 rounded-lg border border-gray-600 hover:border-amber-500 hover:bg-amber-500/10 transition-all duration-200">
    <a href="https://github.com/enspirit/bmg" class="absolute top-3 right-3 text-gray-400 hover:text-white transition-colors" title="View on GitHub">
      <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
    </a>
    <a href="/usage/getting-started/" class="block no-underline">
      <span class="inline-block px-2 py-0.5 mb-2 text-sm font-semibold rounded bg-red-700 text-white">Ruby</span>
      <span class="block font-bold text-lg text-[var(--sl-color-white)]">Bmg</span>
      <span class="block mt-1 text-sm text-[var(--sl-color-gray-3)]">Full-featured library with SQL compilation and ActiveRecord integration.</span>
    </a>
  </div>
  <div class="relative p-4 rounded-lg border border-gray-600 hover:border-amber-500 hover:bg-amber-500/10 transition-all duration-200">
    <a href="https://github.com/enspirit/bmg.js" class="absolute top-3 right-3 text-gray-400 hover:text-white transition-colors" title="View on GitHub">
      <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
    </a>
    <a href="/usage/getting-started-ts/" class="block no-underline">
      <span class="inline-block px-2 py-0.5 mb-2 text-sm font-semibold rounded bg-blue-700 text-white">TypeScript</span>
      <span class="block font-bold text-lg text-[var(--sl-color-white)]">Bmg.js</span>
      <span class="block mt-1 text-sm text-[var(--sl-color-gray-3)]">Type-safe in-memory operations for JavaScript/TypeScript projects.</span>
    </a>
  </div>
</div>

import { Tabs, TabItem } from '@astrojs/starlight/components';

<div class="text-4xl pt-12 pb-4 underline decoration-amber-500">
  Works with any data
</div>

Arrays, CSV files, JSON, Redis, SQL databases — same operations everywhere.

<Tabs syncKey="lang">
  <TabItem label="Ruby">
```ruby
# In-memory array
purchases = Bmg::Relation.new([
  { product_id: 1, quantity: 5, type: 'sale' },
  { product_id: 2, quantity: 3, type: 'sample' },
])

# Or load from CSV
purchases = Bmg.csv("purchases.csv")

# Or connect to a SQL database
purchases = Bmg.sequel(:purchases, db)

# Same operations, any source
purchases
  .restrict(Predicate.neq(:type, 'sample'))
  .summarize([:product_id], quantity: :sum)
```
  </TabItem>
  <TabItem label="TypeScript">
```typescript
// In-memory array
const purchases = Bmg([
  { product_id: 1, quantity: 5, type: 'sale' },
  { product_id: 2, quantity: 3, type: 'sample' },
])

// Same operations, full type safety
purchases
  .exclude({ type: 'sample' })
  .summarize(['product_id'], { quantity: { op: 'sum', attr: 'quantity' } })
```
  </TabItem>
</Tabs>

<div class="text-4xl pt-12 pb-4 underline decoration-amber-500">
  What is it good for?
</div>
<CardGrid>
        <Card title="Think in relations">
          Relational algebra gives you a powerful mental model for data manipulation. Chain operations naturally.
        </Card>
        <Card title="Query anything">
          Same operations work on arrays, files, Redis, or SQL. Your code doesn't change when your data source does.
        </Card>
        <Card title="Compose freely">
          Extract, reuse, and combine query fragments. Build complex transformations from simple pieces.
        </Card>
        <Card title="Drop in anywhere">
          Works alongside ActiveRecord, Sequel, or standalone. No framework lock-in.
        </Card>
</CardGrid>


<div class="text-4xl pt-12 pb-4 underline decoration-amber-500">
  SQL Compilation
</div>

When your data lives in a database, Bmg compiles your queries to efficient SQL.
Currently available in Ruby — coming soon to TypeScript.

<CardGrid>
        <Card>
        ```ruby
        suppliers
          .restrict(Predicate.eq(:city, "Paris"))
          .join(supplies, [:sid])
          .project([:name, :qty])
        ```
        </Card>
        <Card>
        ```sql
        SELECT DISTINCT `t2`.`qty`, `t1`.`name`
        FROM `suppliers` AS 't1'
        INNER JOIN `supplies` AS 't2'
          ON (`t1`.`sid` = `t2`.`sid`)
        WHERE (`t1`.`city` = 'Paris')
        ```
        </Card>
</CardGrid>

See more in our [SQL vs. Bmg cheatsheet](/comparison/bmg-vs-sql-cheatsheet/).

<div class="!mt-16 pt-8 border-t border-gray-700">
  <p class="text-center text-sm text-gray-400 mb-4">Source Code</p>
  <div class="flex justify-center gap-6 text-sm">
    <a href="https://github.com/enspirit/bmg" class="text-gray-300 hover:text-amber-500 transition-colors">Bmg (Ruby)</a>
    <a href="https://github.com/enspirit/bmg.js" class="text-gray-300 hover:text-amber-500 transition-colors">Bmg.js (TypeScript)</a>
    <a href="https://github.com/enspirit/bmg-website" class="text-gray-300 hover:text-amber-500 transition-colors">This Website</a>
  </div>
</div>

<div class="h-8 !mt-8 w-full flex justify-center">
  <span class="text-lg object-contain">Created with ♥️ by</span>
  <a class="flex h-full size-fit py-1.5 w-32 float-end"
     href="https://www.enspirit.dev">
      <Image
        src={enspiritLogoLight}
        alt="Enspirit logo"
        class="dark:sl-hidden object-contain"
      />
      <Image
        src={enspiritLogoDark}
        alt="Enspirit logo"
        class="light:sl-hidden object-contain !m-0"
      />
  </a>
</div>

